---
title: 'EC349_Project_Markdown'
output: html_document
date: "2023-12-04"
---
**1. Introduction** 
  
The Yelp Open Data set is a publicly accessible data set comprising information across various domain, including user profiles, business details, and review data.The open data set can be utilized for diverse purposes, such as analyzing consumer behavior, conducting sentiment analysis, exploring business trends, and deriving insights into user preferences and experiences within the Yelp ecosystem. However, my goal for this project was to use the data set in order to attempt to predict user star ratings given to certain businesses, that is to predict the amount of “stars” given by user i to business j in the test data.
  
**2. Data set/Pre-processing**
  
I used 3 of the data sets provided by yelp, those being yelp_academic_business, yelp_academic_user, and yelp_academic. I initiated the data preparation process by addressing each data set individually. In this stage, I systematically removed columns that I deemed irrelevant for predicting star ratings or those containing a substantial number of missing values (e.g., a prevalence of NA values). The determination of 'usefulness' was guided by a comprehensive evaluation of each column's relevance to the predictive task at hand. Notably I also chose to rename a number of columns in business and user data to avoid confusion, and combined the user, "cool", "useful", and "funny" columns into one column named "interactions". Additionally in order to accurately utilize the variable "average_stars_given_by_user", I dropped all the rows in which "user_review_total" was <5 to increase reliability of my model.

As each data set shared individual unique ids, being business_id and user_id, I merged all 3 data set to create merged_data which housed all variables I was interested in using.In addition to this, since my data set was so large, I also decided to remove any rows with "NA" values to prevent complications with my model in the future.However, due to merged_data having well over 1,000,000 obs, I was unfortunately forced to draw a random subset of data n=500000 due to system limitations. As a result of my Pre-processing I was left with 1 data.frame named "subset_data".

  
**3. Exploratory Data Analysis**
  
The variables I was most interested in investigating the relationship with star ratings initially included: "average_stars_given_by_user", "total_interactions", "average_business_rating","total_business_review_count", and "review_count_by_user". Initially I used the (corrr) package in order to create a correlation matrix interpret the results in relation to stars.


|                   | avg_strs_given | tot_interactions | avg_bness_rating | tot_bness_review | tot_user_review |
|-------------------|-----------------|-------------------|------------------|------------------|------------------|
| Stars              | 0.589            | 0.0138            | 0.492            | 0.0756           | 0.0318           |
  
From the correlation matrix I observed moderate correlation with both average_stars_given_by_user and average_business_rating, and observed very weak correlation with the other variables. As a result of the matrix I decided to no longer consider the weak variables for my model.
  
As a result of my lack of variables, I began to explore the formation of new ones. I questioned whether the length of the "text" column correlated to higher star ratings. For this I utilized the (Tokenizer) package to tokenize the words contained in "text" and calculate the total word length of each review. I then used the lower & upper-quartiles, and median to allocate each review into suitable bins to form the following graph:
  
![Figure1](data:image/png;base64,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)  
    
From the graph I observed that the 5 star rating are negatively correlated with longer text_length, however the the correlation for stars 1-4 were less consistent. The text_length variable provided me with an correlation to stars of 0.2067591 which represents weak correlation, however I opted to include it in my model.
    
**3. Sentiment analysis**  
Recognizing value in the "text" user reviews I introduced sentiment analysis by creating new variables to enhance model accuracy. Utilizing the 'bing lexicon' from the 'tidytext' package, I formed positive and negative word data.frames, filtering out neutral terms. Additionally, a sentiment score data.frame was created from a .txt within the AFINN package, and scores were assigned to each word. The resulting positive and negative word data.frames were then cross-referenced with the sentiment score data.frame to assign values. Subsequently, a customized algorithm scanned each word in the 'text' column of 'subset_data,' associating sentiment values with each user review
  
  
**4. Methodology**  
To predict User Reviews, I employed a dual-model approach, utilizing both linear regression with Lasso regularization and a Random Forest model, with the intention of comparing their performance. 
  
--  **4.1 Linear Regression with Lasso:**  
My choice of linear regression with Lasso regularization is based on its robust feature selection capabilities. Lasso regularization, employing a penalty term, effectively addresses the challenge posed by irrelevant features, a crucial consideration in data sets characterized by diverse variables. By opting for this method, I bypass the need to manually define variables, relying on Lasso to automatically identify and utilize the most important features. Given Yelp's multifaceted nature, where irrelevant features could obscure the predictive task, the use of Lasso should serve to mitigate this issue.

--   **4.2 Random Forest:**  
In addition, I implemented a Random Forest model, renowned for its robustness and ability to capture intricate relationships within the data. The decision trees within the Random Forest collectively contribute to creating a more accurate and resilient predictive model. This approach is particularly well-suited for such a large data set, like Yelp's, and allows for accurate predictions. Furthermore, the advantage of utilizing variables previously identified with correlation adds an extra layer of relevance to this method.

The choice of employing both linear regression and Random Forest models stems from the unique demands of the prediction task. Linear regression, tailored for predicting numerical values, aligns seamlessly with the goal of forecasting user review scores. On the other hand, Random Forest, as a versatile ensemble method, excels in navigating non-linear relationships and capturing intricate patterns inherent in the data.

To evaluate the models' performance, I partitioned the data set into training and test sets. This division enabled me to train the models on a subset of the data and assess their predictive capabilities on previously unseen data.
  
  
**5.Results: Comparative Analysis of Models**  
In this section, we present the results obtained from our predictive models—Random Forest, Linear Regression, and Linear Regression with Lasso regularization—applied to the Yelp Open Data set. The focus of our analysis lies in predicting user star ratings for businesses.
  
  **5.1 Linear Regression Model:**  
- MSE: 1.079784
- Accuracy: 40.45%
- R^2: 0.538674  
The linear regression model achieved a Mean Squared Error (MSE) of 1.079784, signifying the average squared difference between predicted and actual star ratings. With an accuracy rate of 40.45%, the model demonstrated a reasonable ability to predict user ratings. The R-squared value of 0.538674 indicates that the model explains over half of the variability in the star ratings, affirming its effectiveness in capturing underlying patterns within the data.  

  **5.2 Linear Regression Model with Lasso:**  
- MSE: 1.01944
- Accuracy: 40.23%
- R^2: 0.5310858  
The linear regression model with Lasso regularization displayed an MSE of 1.01944 and an accuracy of 40.23%. These results underscore the model's ability to provide reasonably accurate predictions of user star ratings. The R-squared value of 0.5310858 indicates that the model, despite the regularization constraint, effectively explains more than half of the variability in the star ratings. very similar readings to only linear, more optimization needed to be done perhaps.

  **5.3 Random Forest Model:**  
- MSE: 0.89767
- Accuracy: 51%
- R^2: 0.5924165  
The random forest model exhibited a mean squared error (MSE) of 0.89767 and achieved an accuracy of 51%. The R-squared value, measuring the proportion of variance in user star ratings explained by the model, stands at 0.5924165. These outcomes signify the robust predictive performance of the random forest model, showcasing its ability to capture intricate patterns and nonlinear relationships within the Yelp dataset. The model's higher accuracy and R-squared value in comparison to the linear regression models further highlight its effectiveness in providing more precise and reliable predictions of user star ratings.

**6. A statement on your most difficult challenge (if any) carrying out this project and how you overcame/handled it**  
I found the constructing of the Lasso linear regression to be troublesome as I was able to use non-numeric columns in the original linear however it would cause an error in Lasso, therefore I had to create new test and training data without the "character" columns.  
  
In addition to this when modelling a linear regression I was met with the error "Error: cannot allocate vector of size 130.3 Gb" which I failed to find an accurate work around for.

  






  
  





